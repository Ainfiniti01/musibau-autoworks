"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[572],{3572:(e,r,a)=>{a.r(r),a.d(r,{default:()=>c});var o=a(5043),s=a(3285),n=a(3216),t=a(8535),l=a(579);const c=()=>{const[e,r]=(0,o.useState)("customer"),[a,c]=(0,o.useState)({name:"",email:"",password:"","confirm-password":"",companyName:"",rcNumber:"",contactPerson:""}),[i,d]=(0,o.useState)({}),m=(0,n.Zp)(),u=e=>{r(e.target.value),"customer"===e.target.value&&c(e=>({...e,companyName:"",rcNumber:"",contactPerson:""}))},p=e=>{const{name:r,value:a}=e.target;c(e=>({...e,[r]:a}))};return(0,l.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:[(0,l.jsxs)(s.m,{children:[(0,l.jsx)("title",{children:"Musibau AutoWorks - Register"}),(0,l.jsx)("meta",{name:"description",content:"Register for a new Musibau AutoWorks customer account."})]}),(0,l.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-center text-3xl font-extrabold text-[#004040]",children:"Create Your Account"}),(0,l.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async r=>{r.preventDefault();const o={...a,accountType:e},s=(r=>{const a={};return r.name||(a.name="Name is required"),r.email?/\S+@\S+\.\S+/.test(r.email)||(a.email="Email address is invalid"):a.email="Email is required",r.password||(a.password="Password is required"),r.password!==r["confirm-password"]&&(a["confirm-password"]="Passwords do not match"),"organization"===e&&(r.companyName||(a.companyName="Company Name is required"),r.rcNumber||(a.rcNumber="RC Number is required"),r.contactPerson||(a.contactPerson="Contact Person is required")),a})(o);if(d(s),0===Object.keys(s).length){console.log("Form submitted:",o);try{const e={status:201,message:"Registration successful"};if(201===e.status){const e=(0,t.SC)();e.length>0&&(console.log("Guest activity found on registration:",e),(0,t.H4)()),m("/login")}else console.error("Registration failed:",e.message),d({general:e.message})}catch(n){console.error("Network error or unexpected issue:",n),d({general:"An unexpected error occurred. Please try again."})}}},children:[(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,l.jsxs)("label",{className:"inline-flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"accountType",value:"customer",checked:"customer"===e,onChange:u,className:"form-radio text-[#ECBE07]","aria-label":"Personal Account Type"}),(0,l.jsx)("span",{className:"ml-2 text-gray-700",children:"Personal"})]}),(0,l.jsxs)("label",{className:"inline-flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"accountType",value:"organization",checked:"organization"===e,onChange:u,className:"form-radio text-[#ECBE07]","aria-label":"Organization Account Type"}),(0,l.jsx)("span",{className:"ml-2 text-gray-700",children:"Organization"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Name"}),(0,l.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${i.name?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"Full Name","aria-label":"Full Name",value:a.name,onChange:p}),i.name&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:i.name})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,l.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${i.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"Email address","aria-label":"Email Address",value:a.email,onChange:p}),i.email&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:i.email})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,l.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${i.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"Password","aria-label":"Password",value:a.password,onChange:p}),i.password&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:i.password})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),(0,l.jsx)("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${i["confirm-password"]?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"Confirm Password","aria-label":"Confirm Password",value:a["confirm-password"],onChange:p}),i["confirm-password"]&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:i["confirm-password"]})]}),"organization"===e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"companyName",className:"sr-only",children:"Company Name"}),(0,l.jsx)("input",{id:"companyName",name:"companyName",type:"text",autoComplete:"organization",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${i.companyName?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"Company Name","aria-label":"Company Name",value:a.companyName,onChange:p}),i.companyName&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:i.companyName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"rcNumber",className:"sr-only",children:"RC Number"}),(0,l.jsx)("input",{id:"rcNumber",name:"rcNumber",type:"text",autoComplete:"off",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${i.rcNumber?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"RC Number","aria-label":"RC Number",value:a.rcNumber,onChange:p}),i.rcNumber&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:i.rcNumber})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"contactPerson",className:"sr-only",children:"Contact Person"}),(0,l.jsx)("input",{id:"contactPerson",name:"contactPerson",type:"text",autoComplete:"name",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${i.contactPerson?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"Contact Person","aria-label":"Contact Person",value:a.contactPerson,onChange:p}),i.contactPerson&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:i.contactPerson})]})]}),(0,l.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-[#ECBE07] hover:bg-[#d4a806] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#ECBE07]","aria-label":"Register Button",children:"Register"})]})]})]})}},8535:(e,r,a)=>{a.d(r,{H4:()=>t,HR:()=>n,SC:()=>s});const o="guestActivity",s=()=>{try{const e=localStorage.getItem(o);return e?JSON.parse(e):[]}catch(e){return console.error("Error retrieving guest activities from local storage:",e),[]}},n=e=>{try{const r=s();r.push({...e,timestamp:(new Date).toISOString()}),localStorage.setItem(o,JSON.stringify(r))}catch(r){console.error("Error adding guest activity to local storage:",r)}},t=()=>{try{localStorage.removeItem(o)}catch(e){console.error("Error clearing guest activities from local storage:",e)}}}}]);
//# sourceMappingURL=572.8140e460.chunk.js.map