{"version":3,"file":"static/js/977.9889d37b.chunk.js","mappings":"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","sources":["components/BookingContactForm.jsx","pages/public/BookingPage.js","utils/guestActivity.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { toast } from 'react-toastify'; // Import toast\r\nimport { addGuestActivity } from '../utils/guestActivity';\r\n\r\nconst BookingContactForm = ({ isDashboard = false }) => {\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const serviceFromQuery = searchParams.get('service');\r\n\r\n  const [formData, setFormData] = useState({\r\n    fullName: '',\r\n    email: '',\r\n    phoneNumber: '',\r\n    serviceType: '',\r\n    preferredDate: '',\r\n    message: '',\r\n    isGuest: false,\r\n  });\r\n  const [isSubmitting, setIsSubmitting] = useState(false); // New state for submission status\r\n\r\n  useEffect(() => {\r\n    if (serviceFromQuery) {\r\n      const decodedService = decodeURIComponent(serviceFromQuery);\r\n      setFormData((prevData) => ({\r\n        ...prevData,\r\n        message: `Request: ${decodedService}`,\r\n        serviceType: decodedService,\r\n      }));\r\n    }\r\n  }, [serviceFromQuery]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => { // Made async to simulate API call\r\n    e.preventDefault();\r\n    setIsSubmitting(true); // Set submitting state to true\r\n\r\n    if (\r\n      !formData.fullName ||\r\n      !formData.email ||\r\n      !formData.phoneNumber ||\r\n      !formData.serviceType ||\r\n      !formData.preferredDate ||\r\n      !formData.message\r\n    ) {\r\n      toast.error('Please fill in all required fields.'); // Use toast for error\r\n      setIsSubmitting(false); // Reset submitting state\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Simulate API call\r\n      // await new Promise(resolve => setTimeout(resolve, 1500)); // Simulate network delay\r\n      console.log('Form submitted:', formData);\r\n      toast.success('Your request has been submitted successfully! We will contact you shortly.'); // Use toast for success\r\n\r\n      // Simulate guest user submission\r\n      if (formData.isGuest) {\r\n        console.log('Guest Booking submitted:', formData);\r\n        toast.info(\"Guest booking submitted!\");\r\n      } else {\r\n        // Add guest activity if not on the dashboard (assuming dashboard implies logged in)\r\n        if (!isDashboard) {\r\n          addGuestActivity({\r\n            type: 'booking',\r\n            details: formData,\r\n          });\r\n          toast.info(\"Booking saved! Login to track it.\"); // Toast for guest booking\r\n        }\r\n      }\r\n\r\n      setFormData({\r\n        fullName: '',\r\n        email: '',\r\n        phoneNumber: '',\r\n        serviceType: '',\r\n        preferredDate: '',\r\n        message: '',\r\n        isGuest: false,\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Booking submission failed:\", error);\r\n      toast.error(\"Failed to submit booking. Please try again.\");\r\n    } finally {\r\n      setIsSubmitting(false); // Reset submitting state to false\r\n    }\r\n  };\r\n\r\n  const serviceOptions = [\r\n    'Other',\r\n    'Engine Repair',\r\n    'Painting',\r\n    'Tire Rotation',\r\n    'Brake Service',\r\n    'Oil Change',\r\n  ];\r\n\r\n  const isMessageAutofilled = formData.message.startsWith('Request: ');\r\n\r\n  return (\r\n    <div className={isDashboard ? \"\" : \"bg-[#0B0D1F] py-10 px-6 md:px-20\"}>\r\n      <div className={isDashboard ? \"\" : \"container mx-auto\"}>\r\n        {!isDashboard && (\r\n          <h2 className=\"text-3xl font-bold text-center text-white mb-8 py-10\">Book Your Service or Contact Us</h2>\r\n        )}\r\n        <div className=\"mb-4\">\r\n          <label className=\"inline-flex items-center\">\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"form-checkbox h-5 w-5 text-gold rounded-md\"\r\n              name=\"isGuest\"\r\n              checked={formData.isGuest}\r\n              onChange={handleChange}\r\n            />\r\n            <span className=\"ml-2 text-white\">Continue as Guest</span>\r\n          </label>\r\n        </div>\r\n        <form onSubmit={handleSubmit} className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          {/* Full Name */}\r\n          <div className=\"flex flex-col\">\r\n            <label htmlFor=\"fullName\" className=\"text-white mb-2\">Full Name</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"fullName\"\r\n              name=\"fullName\"\r\n              value={formData.fullName}\r\n              onChange={handleChange}\r\n              required={!formData.isGuest}\r\n              className=\"p-3 rounded-lg border border-gold focus:border-gold-focus bg-transparent text-white placeholder-gray-400 focus:outline-none\"\r\n              placeholder=\"Enter your full name\"\r\n            />\r\n          </div>\r\n\r\n          {!formData.isGuest && (\r\n            <>\r\n              {/* Email */}\r\n              <div className=\"flex flex-col\">\r\n                <label htmlFor=\"email\" className=\"text-white mb-2\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  required\r\n                  className=\"p-3 rounded-lg border border-gold focus:border-gold-focus bg-transparent text-white placeholder-gray-400 focus:outline-none\"\r\n                  placeholder=\"Enter your email address\"\r\n                />\r\n              </div>\r\n              {/* Preferred Date */}\r\n              <div className=\"flex flex-col\">\r\n                <label htmlFor=\"preferredDate\" className=\"text-white mb-2\">Preferred Date</label>\r\n                <input\r\n                  type=\"date\"\r\n                  id=\"preferredDate\"\r\n                  name=\"preferredDate\"\r\n                  value={formData.preferredDate}\r\n                  onChange={handleChange}\r\n                  required={!formData.isGuest}\r\n                  className=\"p-3 rounded-lg border border-gold focus:border-gold-focus bg-transparent text-white placeholder-gray-400 focus:outline-none\"\r\n                />\r\n              </div>\r\n            </>\r\n          )}\r\n          {/* Phone Number */}\r\n          <div className=\"flex flex-col\">\r\n            <label htmlFor=\"phoneNumber\" className=\"text-white mb-2\">Phone Number</label>\r\n            <input\r\n              type=\"tel\"\r\n              id=\"phoneNumber\"\r\n              name=\"phoneNumber\"\r\n              value={formData.phoneNumber}\r\n              onChange={handleChange}\r\n              required={!formData.isGuest}\r\n              className=\"p-3 rounded-lg border border-gold focus:border-gold-focus bg-transparent text-white placeholder-gray-400 focus:outline-none\"\r\n              placeholder=\"Enter your phone number\"\r\n            />\r\n          </div>\r\n\r\n          {/* Message */}\r\n          <div className=\"flex flex-col md:col-span-2\">\r\n            <label htmlFor=\"message\" className=\"text-white mb-2\">Message</label>\r\n            <textarea\r\n              id=\"message\"\r\n              name=\"message\"\r\n              value={formData.message}\r\n              onChange={handleChange}\r\n              rows=\"5\"\r\n              required\r\n              className={`p-3 rounded-lg border border-gold focus:border-gold-focus bg-transparent text-white placeholder-gray-400 focus:outline-none resize-none ${\r\n                isMessageAutofilled ? 'border-yellow-500' : ''\r\n              }`}\r\n              placeholder=\"Enter your message\"\r\n            ></textarea>\r\n          </div>\r\n\r\n          {/* Submit Button */}\r\n          <div className=\"md:col-span-2 flex justify-center\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-8 py-3 bg-gold text-yellow font-bold rounded-lg hover:bg-gold-hover transition duration-300 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              disabled={isSubmitting} // Disable button when submitting\r\n            >\r\n              {isSubmitting ? 'Submitting...' : 'Submit Request'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookingContactForm;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport BookingContactForm from '../../components/BookingContactForm'; // Import the new component\r\n\r\nconst BookingPage = () => {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Book Your Service</title>\r\n      </Helmet>\r\n      <div className=\"container mx-auto px-6 md:px-20 py-10\">\r\n        {/* The BookingContactForm component already has its own section and styling */}\r\n        <BookingContactForm />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookingPage;\r\n","// frontend/src/utils/guestActivity.js\r\n\r\nconst GUEST_ACTIVITY_KEY = 'guestActivity';\r\n\r\n/**\r\n * Retrieves all guest activities from local storage.\r\n * @returns {Array} An array of guest activity objects.\r\n */\r\nexport const getGuestActivities = () => {\r\n  try {\r\n    const activities = localStorage.getItem(GUEST_ACTIVITY_KEY);\r\n    return activities ? JSON.parse(activities) : [];\r\n  } catch (error) {\r\n    console.error(\"Error retrieving guest activities from local storage:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * Adds a new guest activity to local storage.\r\n * @param {object} activity - The guest activity object to add.\r\n */\r\nexport const addGuestActivity = (activity) => {\r\n  try {\r\n    const activities = getGuestActivities();\r\n    activities.push({ ...activity, timestamp: new Date().toISOString() });\r\n    localStorage.setItem(GUEST_ACTIVITY_KEY, JSON.stringify(activities));\r\n  } catch (error) {\r\n    console.error(\"Error adding guest activity to local storage:\", error);\r\n  }\r\n};\r\n\r\n/**\r\n * Clears all guest activities from local storage.\r\n */\r\nexport const clearGuestActivities = () => {\r\n  try {\r\n    localStorage.removeItem(GUEST_ACTIVITY_KEY);\r\n  } catch (error) {\r\n    console.error(\"Error clearing guest activities from local storage:\", error);\r\n  }\r\n};\r\n\r\n/**\r\n * Example guest data structure:\r\n * {\r\n *   type: 'booking', // or 'product_view', 'inquiry', etc.\r\n *   details: {\r\n *     service: 'Tire Repair',\r\n *     date: '2025-08-10',\r\n *     // other relevant details\r\n *   },\r\n *   timestamp: '2025-08-08T12:00:00.000Z'\r\n * }\r\n */\r\n\r\n/**\r\n * Generates initials from a given name.\r\n * @param {string} name - The full name of the person.\r\n * @returns {string} The initials of the name.\r\n */\r\nexport const getInitials = (name) => {\r\n  if (!name) return '';\r\n  const nameParts = name.split(' ').filter(part => part.length > 0);\r\n  if (nameParts.length === 0) return '';\r\n  \r\n  if (nameParts.length === 1) {\r\n    return nameParts[0].charAt(0).toUpperCase();\r\n  }\r\n\r\n  return (nameParts[0].charAt(0) + nameParts[nameParts.length - 1].charAt(0)).toUpperCase();\r\n};\r\n"],"names":["_ref","isDashboard","location","useLocation","serviceFromQuery","URLSearchParams","search","get","formData","setFormData","useState","fullName","email","phoneNumber","serviceType","preferredDate","message","isGuest","isSubmitting","setIsSubmitting","useEffect","decodedService","decodeURIComponent","prevData","_objectSpread","concat","handleChange","e","name","value","target","isMessageAutofilled","startsWith","_jsx","className","children","_jsxs","type","checked","onChange","onSubmit","async","preventDefault","toast","error","console","log","success","info","addGuestActivity","details","htmlFor","id","required","placeholder","_Fragment","rows","disabled","BookingPage","Helmet","BookingContactForm","GUEST_ACTIVITY_KEY","getGuestActivities","activities","localStorage","getItem","JSON","parse","activity","push","timestamp","Date","toISOString","setItem","stringify","clearGuestActivities","removeItem","getInitials","nameParts","split","filter","part","length","charAt","toUpperCase"],"sourceRoot":""}