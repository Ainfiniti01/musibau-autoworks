{"version":3,"file":"static/js/991.8359fa9e.chunk.js","mappings":"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","sources":["pages/public/GuestBookingPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport LoadingSpinner from '../../components/LoadingSpinner';\r\nimport { get, post } from '../../utils/api';\r\n\r\nconst GuestBookingPage = () => {\r\n    const [services, setServices] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        service_id: '',\r\n        booking_date: ''\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchServices = async () => {\r\n            setIsLoading(true);\r\n            try {\r\n                const data = await get('/api/services.php');\r\n                setServices(data);\r\n            } catch (error) {\r\n                setError(error.message);\r\n                toast.error(error.message);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n        fetchServices();\r\n    }, []);\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const bookingPromise = new Promise(async (resolve, reject) => {\r\n            try {\r\n                await post('/api/guest_booking.php', formData);\r\n                resolve('Booking successful!');\r\n                setFormData({ name: '', email: '', phone: '', service_id: '', booking_date: '' });\r\n            } catch (error) {\r\n                reject(error.message);\r\n            }\r\n        });\r\n\r\n        toast.promise(bookingPromise, {\r\n            loading: 'Creating booking...',\r\n            success: (message) => message,\r\n            error: (message) => message,\r\n        });\r\n    };\r\n\r\n    if (isLoading) {\r\n        return <LoadingSpinner />;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            \r\n                \r\n                    Book a Service as a Guest\r\n                \r\n            \r\n\r\n            \r\n                {error && (\r\n                    \r\n                        {error}\r\n                    \r\n                )}\r\n            \r\n\r\n            \r\n                <form\r\n                    onSubmit={handleSubmit}\r\n                    className=\"bg-white p-6 rounded-lg shadow-md\"\r\n                >\r\n                    \r\n                        <label className=\"block text-gray-700\" htmlFor=\"name\">\r\n                            Name:\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"name\"\r\n                            name=\"name\"\r\n                            value={formData.name}\r\n                            onChange={handleChange}\r\n                            required\r\n                            className=\"w-full px-3 py-2 border rounded\"\r\n                        />\r\n                    \r\n\r\n                    \r\n                        <label className=\"block text-gray-700\" htmlFor=\"email\">\r\n                            Email:\r\n                        </label>\r\n                        <input\r\n                            type=\"email\"\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            value={formData.email}\r\n                            onChange={handleChange}\r\n                            required\r\n                            className=\"w-full px-3 py-2 border rounded\"\r\n                        />\r\n                    \r\n\r\n                    \r\n                        <label className=\"block text-gray-700\" htmlFor=\"phone\">\r\n                            Phone:\r\n                        </label>\r\n                        <input\r\n                            type=\"tel\"\r\n                            id=\"phone\"\r\n                            name=\"phone\"\r\n                            value={formData.phone}\r\n                            onChange={handleChange}\r\n                            required\r\n                            className=\"w-full px-3 py-2 border rounded\"\r\n                        />\r\n                    \r\n\r\n                    \r\n                        <label className=\"block text-gray-700\" htmlFor=\"service_id\">\r\n                            Service:\r\n                        </label>\r\n                        <select\r\n                            id=\"service_id\"\r\n                            name=\"service_id\"\r\n                            value={formData.service_id}\r\n                            onChange={handleChange}\r\n                            required\r\n                            className=\"w-full px-3 py-2 border rounded\"\r\n                        >\r\n                            <option value=\"\">Select a service</option>\r\n                            {services && services.map(service => (\r\n                                <option key={service.id} value={service.id}>\r\n                                    {service.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    \r\n\r\n                    \r\n                        <label className=\"block text-gray-700\" htmlFor=\"booking_date\">\r\n                            Booking Date:\r\n                        </label>\r\n                        <input\r\n                            type=\"date\"\r\n                            id=\"booking_date\"\r\n                            name=\"booking_date\"\r\n                            value={formData.booking_date}\r\n                            onChange={handleChange}\r\n                            required\r\n                            className=\"w-full px-3 py-2 border rounded\"\r\n                        />\r\n                    \r\n\r\n                    \r\n                        Book Now\r\n                    \r\n                </form>\r\n            \r\n        </>\r\n    );\r\n}\r\n\r\nexport default GuestBookingPage;"],"names":["GuestBookingPage","services","setServices","useState","isLoading","setIsLoading","error","setError","formData","setFormData","name","email","phone","service_id","booking_date","useEffect","async","data","get","message","toast","fetchServices","handleChange","e","_objectSpread","target","value","_jsx","LoadingSpinner","_jsxs","_Fragment","children","onSubmit","preventDefault","bookingPromise","Promise","resolve","reject","post","promise","loading","success","className","htmlFor","type","id","onChange","required","map","service"],"sourceRoot":""}