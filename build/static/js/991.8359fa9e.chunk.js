"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[991],{6991:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var n=s(9379),r=s(5043),l=s(3768),o=s(307),t=s(3862),i=s(579);const d=()=>{const[e,a]=(0,r.useState)([]),[s,d]=(0,r.useState)(!0),[c,m]=(0,r.useState)(null),[u,p]=(0,r.useState)({name:"",email:"",phone:"",service_id:"",booking_date:""});(0,r.useEffect)(()=>{(async()=>{d(!0);try{const e=await(0,t.J)("/api/services.php");a(e)}catch(c){m(c.message),l.Ay.error(c.message)}finally{d(!1)}})()},[]);const h=e=>{p((0,n.A)((0,n.A)({},u),{},{[e.target.name]:e.target.value}))};return s?(0,i.jsx)(o.A,{}):(0,i.jsxs)(i.Fragment,{children:["Book a Service as a Guest",c&&{error:c},(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const a=new Promise(async(e,a)=>{try{await(0,t.b)("/api/guest_booking.php",u),e("Booking successful!"),p({name:"",email:"",phone:"",service_id:"",booking_date:""})}catch(c){a(c.message)}});l.Ay.promise(a,{loading:"Creating booking...",success:e=>e,error:e=>e})},className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("label",{className:"block text-gray-700",htmlFor:"name",children:"Name:"}),(0,i.jsx)("input",{type:"text",id:"name",name:"name",value:u.name,onChange:h,required:!0,className:"w-full px-3 py-2 border rounded"}),(0,i.jsx)("label",{className:"block text-gray-700",htmlFor:"email",children:"Email:"}),(0,i.jsx)("input",{type:"email",id:"email",name:"email",value:u.email,onChange:h,required:!0,className:"w-full px-3 py-2 border rounded"}),(0,i.jsx)("label",{className:"block text-gray-700",htmlFor:"phone",children:"Phone:"}),(0,i.jsx)("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:h,required:!0,className:"w-full px-3 py-2 border rounded"}),(0,i.jsx)("label",{className:"block text-gray-700",htmlFor:"service_id",children:"Service:"}),(0,i.jsxs)("select",{id:"service_id",name:"service_id",value:u.service_id,onChange:h,required:!0,className:"w-full px-3 py-2 border rounded",children:[(0,i.jsx)("option",{value:"",children:"Select a service"}),e&&e.map(e=>(0,i.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,i.jsx)("label",{className:"block text-gray-700",htmlFor:"booking_date",children:"Booking Date:"}),(0,i.jsx)("input",{type:"date",id:"booking_date",name:"booking_date",value:u.booking_date,onChange:h,required:!0,className:"w-full px-3 py-2 border rounded"}),"Book Now"]})]})}}}]);
//# sourceMappingURL=991.8359fa9e.chunk.js.map