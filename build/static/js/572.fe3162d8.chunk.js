"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[572],{3572:(e,r,a)=>{a.r(r),a.d(r,{default:()=>d});var o=a(9379),s=a(5043),n=a(9367),t=a(3216),c=a(8535),l=a(5475),i=a(579);const d=()=>{const[e,r]=(0,s.useState)("customer"),[a,d]=(0,s.useState)({name:"",email:"",password:"","confirm-password":"",companyName:"",rcNumber:"",contactPerson:""}),[m,u]=(0,s.useState)({}),p=(0,t.Zp)(),x=e=>{r(e.target.value),"customer"===e.target.value&&d(e=>(0,o.A)((0,o.A)({},e),{},{companyName:"",rcNumber:"",contactPerson:""}))},g=e=>{const{name:r,value:a}=e.target;d(e=>(0,o.A)((0,o.A)({},e),{},{[r]:a}))};return(0,i.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:[(0,i.jsxs)(n.mg,{children:[(0,i.jsx)("title",{children:"Musibau AutoWorks - Register"}),(0,i.jsx)("meta",{name:"description",content:"Register for a new Musibau AutoWorks customer account."})]}),(0,i.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[(0,i.jsx)("h2",{className:"text-center text-3xl font-extrabold text-[#004040]",children:"Create Your Account"}),(0,i.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async r=>{r.preventDefault();const s=(0,o.A)((0,o.A)({},a),{},{accountType:e}),n=(r=>{const a={};return r.name||(a.name="Name is required"),r.email?/\S+@\S+\.\S+/.test(r.email)||(a.email="Email address is invalid"):a.email="Email is required",r.password||(a.password="Password is required"),r.password!==r["confirm-password"]&&(a["confirm-password"]="Passwords do not match"),"organization"===e&&(r.companyName||(a.companyName="Company Name is required"),r.rcNumber||(a.rcNumber="RC Number is required"),r.contactPerson||(a.contactPerson="Contact Person is required")),a})(s);if(u(n),0===Object.keys(n).length){console.log("Form submitted:",s);try{const r={status:201,message:"Registration successful"};if(201===r.status){const r=(0,c.SC)();r.length>0&&(console.log("Guest activity found on registration:",r),(0,c.H4)()),p("organization"===e?"/organization/dashboard":"/customer/dashboard")}else console.error("Registration failed:",r.message),u({general:r.message})}catch(t){console.error("Network error or unexpected issue:",t),u({general:"An unexpected error occurred. Please try again."})}}},children:[(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"radio",name:"accountType",value:"customer",checked:"customer"===e,onChange:x,className:"form-radio text-[#ECBE07]","aria-label":"Personal Account Type"}),(0,i.jsx)("span",{className:"ml-2 text-gray-700",children:"Personal"})]}),(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"radio",name:"accountType",value:"organization",checked:"organization"===e,onChange:x,className:"form-radio text-[#ECBE07]","aria-label":"Organization Account Type"}),(0,i.jsx)("span",{className:"ml-2 text-gray-700",children:"Organization"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Name"}),(0,i.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border ".concat(m.name?"border-red-500":"border-gray-300"," placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),placeholder:"Full Name","aria-label":"Full Name",value:a.name,onChange:g}),m.name&&(0,i.jsx)("p",{className:"text-red-500 text-xs italic",children:m.name})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,i.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border ".concat(m.email?"border-red-500":"border-gray-300"," placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),placeholder:"Email address","aria-label":"Email Address",value:a.email,onChange:g}),m.email&&(0,i.jsx)("p",{className:"text-red-500 text-xs italic",children:m.email})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,i.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border ".concat(m.password?"border-red-500":"border-gray-300"," placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),placeholder:"Password","aria-label":"Password",value:a.password,onChange:g}),m.password&&(0,i.jsx)("p",{className:"text-red-500 text-xs italic",children:m.password})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),(0,i.jsx)("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border ".concat(m["confirm-password"]?"border-red-500":"border-gray-300"," placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),placeholder:"Confirm Password","aria-label":"Confirm Password",value:a["confirm-password"],onChange:g}),m["confirm-password"]&&(0,i.jsx)("p",{className:"text-red-500 text-xs italic",children:m["confirm-password"]})]}),"organization"===e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"companyName",className:"sr-only",children:"Company Name"}),(0,i.jsx)("input",{id:"companyName",name:"companyName",type:"text",autoComplete:"organization",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border ".concat(m.companyName?"border-red-500":"border-gray-300"," placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),placeholder:"Company Name","aria-label":"Company Name",value:a.companyName,onChange:g}),m.companyName&&(0,i.jsx)("p",{className:"text-red-500 text-xs italic",children:m.companyName})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"rcNumber",className:"sr-only",children:"RC Number"}),(0,i.jsx)("input",{id:"rcNumber",name:"rcNumber",type:"text",autoComplete:"off",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border ".concat(m.rcNumber?"border-red-500":"border-gray-300"," placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),placeholder:"RC Number","aria-label":"RC Number",value:a.rcNumber,onChange:g}),m.rcNumber&&(0,i.jsx)("p",{className:"text-red-500 text-xs italic",children:m.rcNumber})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"contactPerson",className:"sr-only",children:"Contact Person"}),(0,i.jsx)("input",{id:"contactPerson",name:"contactPerson",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border ".concat(m.contactPerson?"border-red-500":"border-gray-300"," placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),placeholder:"Contact Person","aria-label":"Contact Person",value:a.contactPerson,onChange:g}),m.contactPerson&&(0,i.jsx)("p",{className:"text-red-500 text-xs italic",children:m.contactPerson})]})]}),(0,i.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-[#ECBE07] hover:bg-[#d4a806] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#ECBE07]","aria-label":"Register Button",children:"Register"}),(0,i.jsxs)("p",{className:"text-center text-sm text-gray-600 mt-4",children:["Already have an account? ",(0,i.jsx)(l.N_,{to:"/login",className:"text-[#ECBE07] hover:underline",children:" Login"})]})]})]})]})}},8535:(e,r,a)=>{a.d(r,{H4:()=>c,HR:()=>t,SC:()=>n});var o=a(9379);const s="guestActivity",n=()=>{try{const e=localStorage.getItem(s);return e?JSON.parse(e):[]}catch(e){return console.error("Error retrieving guest activities from local storage:",e),[]}},t=e=>{try{const r=n();r.push((0,o.A)((0,o.A)({},e),{},{timestamp:(new Date).toISOString()})),localStorage.setItem(s,JSON.stringify(r))}catch(r){console.error("Error adding guest activity to local storage:",r)}},c=()=>{try{localStorage.removeItem(s)}catch(e){console.error("Error clearing guest activities from local storage:",e)}}}}]);
//# sourceMappingURL=572.fe3162d8.chunk.js.map